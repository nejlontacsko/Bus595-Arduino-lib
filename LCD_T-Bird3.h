#pragma once

#ifndef LCD_TBIRD3_H
#define LCD_TBIRD3_H

#define F_CPU 8000000

#include <avr/io.h>
#include <avr/sfr_defs.h>
#include <stdio.h>
#include <string.h>
#include <util/delay.h>

#define LCD_PIN_D7 _BV(PE7)
#define LCD_PIN_D6 _BV(PE6)
#define LCD_PIN_D5 _BV(PE5)
#define LCD_PIN_D4 _BV(PE4)
#define LCD_PIN_EN _BV(PF3)
#define LCD_PIN_RW _BV(PF2)
#define LCD_PIN_RS _BV(PF1)

#define LCD_DIR_RD 1
#define LCD_DIR_WR 0

#define LCD_CTRL_REGISTER 0
#define LCD_DATA_REGISTER 1

#define LCD_CMD_CLRDISP 0x01
#define LCD_CMD_RETHOME 0x02
#define LCD_CMD_ENTMODE 0x04
#define LCD_CMD_DSPCTRL 0x08
#define LCD_CMD_CDSHIFT 0x10
#define LCD_CMD_FUNCSET 0x20
#define LCD_CMD_CGRAMAD 0x40
#define LCD_CMD_DDRAMAD 0x80

#define LCD_EMPTY_LINE ((char[]){0x00})

//Hungarian letters
char
	upperAA[8] = { 0x04, 0x04, 0x00, 0x0e, 0x11, 0x1f, 0x11, 0x11 }, //Á
	lowerAA[8] = { 0x04, 0x04, 0x00, 0x0e, 0x01, 0x0f, 0x11, 0x0f }, //á
	upperEE[8] = { 0x04, 0x04, 0x00, 0x1f, 0x10, 0x1e, 0x10, 0x1f }, //É
	lowerEE[8] = { 0x04, 0x04, 0x00, 0x0e, 0x11, 0x1f, 0x10, 0x0e }, //é
	upperII[8] = { 0x04, 0x04, 0x00, 0x0e, 0x04, 0x04, 0x04, 0x0e }, //Í
	lowerII[8] = { 0x04, 0x04, 0x00, 0x04, 0x0c, 0x04, 0x04, 0x0e }, //í
	upperOO[8] = { 0x04, 0x04, 0x0e, 0x11, 0x11, 0x11, 0x11, 0x0e }, //Ó
	lowerOO[8] = { 0x04, 0x04, 0x00, 0x0e, 0x11, 0x11, 0x11, 0x0e }, //ó
	upperDO[8] = { 0x0a, 0x0a, 0x0e, 0x11, 0x11, 0x11, 0x11, 0x0e }, //Õ
	lowerDO[8] = { 0x0a, 0x0a, 0x00, 0x0e, 0x11, 0x11, 0x11, 0x0e }, //õ
	upperUU[8] = { 0x04, 0x04, 0x11, 0x11, 0x11, 0x11, 0x13, 0x0d }, //Ú
	lowerUU[8] = { 0x04, 0x04, 0x00, 0x11, 0x11, 0x11, 0x13, 0x0d }, //ú
	upperDU[8] = { 0x0a, 0x0a, 0x11, 0x11, 0x11, 0x11, 0x13, 0x0d }, //Û
	lowerDU[8] = { 0x0a, 0x0a, 0x00, 0x11, 0x11, 0x11, 0x13, 0x0d }, //û

//Glyphs
	ethConn[8] = { 0x00, 0xe0, 0x1b, 0x11, 0x11, 0x1f, 0x00, 0x00 },
	check[8] = { 0x00, 0x01, 0x03, 0x16, 0x1c, 0x08, 0x00, 0x00 },
	cross[8] = { 0x00, 0x11, 0x0a, 0x04, 0x0a, 0x11, 0x00, 0x00 },
	upArrow[8] = { 0x00, 0x04, 0x04, 0x0E, 0x0E, 0x1F, 0x00, 0x00 },
	downArrow[8] = { 0x00, 0x00, 0x1F, 0x0E, 0x0E, 0x04, 0x04, 0x00 };
	
void _writeRegister(int, uint8_t);

void sendCmd(uint8_t);
void sendByte(uint8_t);

void initLcd();

void createChar(uint8_t, char*);

void writeLcd(const char*, int);

int writeLcdHun(const char*, const char*, const char*, const char*);

#endif